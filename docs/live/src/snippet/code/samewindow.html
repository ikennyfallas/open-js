<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>login</title>
<script src="//mat1.gtimg.com/app/openjs/openjs.js#debug=yes"></script>
<script defer="defer">

T.init({

    appkey:800000006,

    callbackurl: ['http://open.t.qq.com/open-js/docs/snippet/code/callback.html?' // 通用方案html文件网址
                  ,'return_to=','http://open.t.qq.com/open-js/docs/snippet/code/samewindow.html' // 你的应用网址
                  ,'&appkey=800000006' // 你的AppKey
                  ].join(''),

    samewindow:true

});

function login() {

	T.login(function (loginStatus) {
		alert(loginStatus.nick);
	},function (loginError) {
		alert(loginError.message);
	});

}


</script>
</head>
<body>
<script>

if (T.loginStatus()) {

    document.write("已登录");

} else {

    document.write("未登录");

}

document.write("<br/>");

if (window != window.parent) {

    document.write("请点击新窗口按钮，在新打开的窗口预览效果。")

} else {

    document.write('<input type="button" value="登录授权" onclick="login();"/><input type="button" value="登出" onclick="T.logout();"/>');

}

</script>
</body>
</html>
